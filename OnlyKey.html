<!DOCTYPE html>
<html>
<head>
    <title>OnlyKey Configuration Wizard</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <p>
        <a class="cp-toggle" href="">Show Configuration</a>
    </p>

    <div id="wizard-panel">
        <table border="1" cellpadding="5" cellspacing="0" id="HeaderTable">
            <tr>
                <td data-step="Step1">Step 1: Getting Started</td>
                <td data-step="Step2">Step 2: Select OnlyKey Mode</td>
                <td data-step="Step3">Step 3: Set Your Passcode</td>
                <td data-step="Step4">Step 4: Confirm Passcode</td>
                <td data-step="Step5">Step 5: Set Self-Destruct Passcode</td>
                <td data-step="Step6">Step 6: Confirm Self-Destruct Passcode</td>
                <td data-step="Step7">Step 7: Set Plausible Deniability Passcode</td>
                <td data-step="Step8">Step 8: Confirm Plausible Deniability Passcode</td>
            </tr>
        </table>

        <br />

        <div id="stepContent">
            <div class="step" id="Step1">
                <h3>Welcome to the OnlyKey Initial Setup Wizard!</h3>
                This wizard initializes the OnlyKey. Each step is highlighted in the header. 
                <br/><br />
                Click [Next] to get started.
            </div>

            <div class="step" id="Step2">
                <h3>Step 2: Select OnlyKey Mode</h3>
                <b>Modes:</b>
                <br/>
                <label>
                    <input type=radio name=ConfigMode value="Unencrypted" />
                    Unencrypted Password Manager (International Version)
                </label>
                <br/>

                <label>
                    <input type=radio checked name=ConfigMode value="TwoFactor" />
                    Two-Factor Authentication and Password Manager (U.S. Version - default)
                </label>
 
                <br/><br/>
            </div>

            <div class="step" id="Step3">
                <h3>Step 3: Enter passcode on OnlyKey keypad</h3>
                <p>
                    WARNING &mdash; Make sure to choose a passcode that you will not forget and that only you know. It is also good to have a secure backup of your passcode somewhere just in case you forget.
                </p>
                <p>
                    DISCLAIMER &mdash; I understand that there is no way to recover my passcode and if I forget it the only way to recover the OnlyKey is to perform a factory default which wipes all sensitive information.
                </p>
                <label>
                    <input type="checkbox" name="passcode1Disclaimer" />
                    I understand and accept the above risk.
                </label>
                <p>
                    Your OnlyKey should now be blinking about once every second. Enter a 7 - 10 digit passcode on your OnlyKey six button keypad and when you are finished click submit below.
                </p>
                <input type="button" name="passcode1Submit" id="passcode1Submit" value="Submit" />
                <!-- The following packet should be sent when submit or next button is pressed -->
                <!-- FFFFFFFFE1 -->
            </div>

            <div class="step" id="Step4">
                <h3>Step 4: Re-enter Passcode on OnlyKey Keypad</h3>
                <p>
                    Your OnlyKey should now be blinking about once every second. Re-enter the 7 - 10 digit passcode on your OnlyKey six button keypad and when you are finished click confirm below.
                </p>
                <input type="button" name="passcode1Confirm" id="passcode1Confirm" value="Confirm" />
                <!-- The following packet should be sent when submit is pressed -->
                <!-- FFFFFFFFE1 -->
            </div>

            <div class="step" id="Step5">
                <h3>Step 5. Enter self-destruct passcode on OnlyKey keypad</h3>
                <p>
                    WARNING &mdash; Make sure to choose a passcode that you will not forget and that only you know. Also this passcode should not be similar to your regular passcode as this could result in unintentionally wiping your OnlyKey. It is your responsibility to maintain a secure backup of your passcode somewhere just in case you forget.
                </p>
                <p>
                    DISCLAIMER &mdash; I understand that entering this passcode will cause OnlyKey to perform a factory default which wipes all sensitive information.
                </p>
                <label>
                    <input type="checkbox" name="passcode2Disclaimer" />
                    I understand and accept the above risk.
                </label>
                <p>
                    Your OnlyKey should now be blinking about once every second. Enter a 7 - 10 digit passcode on your OnlyKey six button keypad and when you are finished click submit below.
                </p>
                <input type="button" name="passcode2Submit" id="passcode2Submit" value="Submit" />
                <!-- The following packet should be sent when submit is pressed -->
                <!-- FFFFFFFFE1 -->
            </div>

            <div class="step" id="Step6">
                <h3>Step 6: Re-enter Self-Destruct Passcode on OnlyKey Keypad</h3>
                <p>
                    Your OnlyKey should now be blinking about once every second. Re-enter the 7 - 10 digit passcode on your OnlyKey six button keypad and when you are finished click confirm below.
                </p>
                <input type="button" name="passcode2Confirm" id="passcode2Confirm" value="Confirm" />
                <!-- The following packet should be sent when submit is pressed -->
                <!-- FFFFFFFFE1 -->
            </div>

            <div class="step" id="Step7">
                <h3>Step 7: Enter Plausible Deniability Passcode on OnlyKey keypad</h3>
                <p>
                    If you are using Unencrypted Password Manager (International Version) mode or Two-Factor Authentication and Password Manager (U.S. Version - default) mode you may exit now by selecting "Show Configuration" in the left corner of the window. If you have loaded the Plausible Deniability Mode firmware on your OnlyKey proceed to enter plausible deniability passcode.
                </p>
                <p>
                    WARNING &mdash; Make sure to choose a passcode that you will not forget and that only you know. It is your responsibility to maintain a secure backup of your passcode somewhere just in case you forget.
                </p>
                <p>
                    DISCLAIMER &mdash; I understand that entering this passcode will cause OnlyKey to  perform a factory default which wipes all sensitive information.
                </p>
                <label>
                    <input type="checkbox" name="passcode2Disclaimer" />
                    I understand and accept the above risk.
                </label>
                <p>
                    Your OnlyKey should now be blinking about once every second. Enter a 7 - 10 digit passcode on your OnlyKey six button keypad and when you are finished click submit below.
                </p>
                <input type="button" name="passcode2Submit" id="passcode2Submit" value="Submit" />
                <!-- The following packet should be sent when submit is pressed -->
                <!-- FFFFFFFFE1 -->
            </div>

            <div class="step" id="Step8">
                <h3>Step 8: Re-enter Plausible Deniability Passcode on OnlyKey Keypad</h3>
                <p>
                   Your OnlyKey should now be blinking about once every second. Re-enter the 7 - 10 digit passcode on your OnlyKey six button keypad and when you are finished click confirm below.
                </p>
                <input type="button" name="passcode2Confirm" id="passcode2Confirm" value="Confirm" />
                <!-- The following packet should be sent when submit is pressed -->
                <!-- FFFFFFFFE1 -->
            </div>
        </div>
        
        <br />    

        <table border="0" cellpadding="5" cellspacing="0">
            <tr>
                <td>
                    <button id="ButtonPrevious" type="button" disabled="disabled">Previous</button>
                </td>
                <td>
                    <button id="ButtonNext" type="button">Next</button>
                </td>
                <td>
                    <button id="SubmitFinal" type="submit" value="Finish" disabled="disabled">Finish</button>
                </td>
            </tr>
        </table>
    </div>

    <dialog id="finalStep">
        <h2>Your OnlyKey is ready!!</h2>
        <a href="" id="closeFinal">CLOSE</a>
    </dialog>

    <dialog id="disconnected">
        <h1>Please connect your OnlyKey</h1>
    </dialog>

    <div id="control-panel" style="display: none;">
        <div id="device-panel">
          <select id="device-selector"></select>
          <button id="connect">Connect</button>
          <button id="disconnect">Disconnect</button>
          <button id="add-device">Add Device...</button>
        </div>
        <div id="output-panel">
          <h3>OUTPUT</h3>
 -          <label>Report ID (0 for none):</label>
 -          <input type="number" id="out-id" min="0" max="255" value="0">
 -          <br>
 -          <label>Report Contents (ASCII; you may use \xNN to escape bytes):</label><br>
 -          <input id="out-data" value="" size="68" style="width:100%"><br>
 -          <label>Report Size (bytes, not including report ID):</label>
 -          <input type="number" id="out-size" min="0" max="63" value="63"><br>
 -          <label>Report Padding Byte<br>
 -            (appended to |contents| up to |size| bytes):<br></label>
 -          <input type="number" id="out-pad" min="0" max="255" value="0"><br>
 -          <button id="send">Send Report</button>
          <div>OnlyKey Slot Configuration</div>
        <table>
            <!-- Row 1 -->
            <tr>
                <th>Slot 1a</th>
              
            </tr>
            <!-- Row 2 -->
            <tr>
                <td>Load Defaults From Template</td>
                <td>
                    <select>
                        <option value="test">Check</option>  
                    </select>
                </td>
            </tr>
            
             <!-- Row 3 -->
            <tr>
                <td><input type="checkbox" name="Label" value="Label"/>Label</td>
                <td>
                    <input type="text" name="txtLabel" value="testData"/>
                </td>
            </tr>
            
             <!-- Row 4 -->
            <tr>
                <td><input type="checkbox" name="Label" value="UserName"/>UserName</td>
                <td>
                    <input type="text" name="txtLabel" value="UserName"/>
                </td>
            </tr>
            
            <tr>
                 <td><input type="radio" name="FirstTabReturn" value="UserName"/>Tab
                
                    <input type="radio" name="FirstTabReturn" value="UserName"/>Return
                </td>
            </tr>
            
             <!-- Row 5 -->
            <tr>
                <td><input type="checkbox" name="Label" value="UserName"/>Delay(Seconds)</td>
                <td>
                    <input type="text" name="txtLabel" value="Delay"/>
                </td>
            </tr>
            
             <!-- Row 6 -->
            <tr>
                <td><input type="checkbox" name="Label" value="UserName"/>Password</td>
                <td>
                    <input type="text" name="txtLabel" value=""/>
                </td>
            </tr>
            
             <!-- Row 7 -->
            <tr>
                <td>Re-enter Password</td>
                <td>
                    <input type="text" name="txtLabel" value=""/>
                </td>
            </tr>
            
            <tr>
                <td><input type="radio" name="SecondTabReturn" value="UserName"/>Tab
                
                    <input type="radio" name="SecondTabReturn" value="UserName"/>Return
                </td>
            </tr>
            
            <tr>
                <td>Options below only work for 2FA Mode</td>
            </tr>
            
             <!-- Row 8 -->
            <tr>
                <td><input type="checkbox" name="Label" value="UserName"/>Delay(Seconds)</td>
                <td>
                    <input type="text" name="txtLabel" value=""/>
                </td>
            </tr>
            
            <tr>
                <td>Please select one:</td>
            </tr>
            
             <!-- Row 9 -->
            <tr>
                <td><input type="radio" name="mode" value="UserName"/>Google Auth OTP</td>
                <td>
                    <input type="text" name="txtLabel" value="UserName"/>
                </td>
            </tr>
            
            <tr>
                <td><input type="radio" name="mode" value="YubikeyOTP"/>Yubikey OTP</td>
            </tr>
            <tr>
                <td><input type="radio" name="mode" value="U2F"/>U2F</td>
            </tr>
            
            <!-- Row 10 -->
            <tr>
                <td>
                    <input type="button" name="Wipe" value="Wipe"/>
                </td>
                <td>
                    <input type="button" name="Submit" value="Submit"/>
                </td>
            </tr>
            
        </table>
        </div>
        <div id="input-panel">
          <h3>INPUT</h3>
          <label>Expected Report Size</label>
          <input type="number" id="in-size" value="64" min="1" max="64"><br>
          <label>Poll?</label>
          <input type="checkbox" id="in-poll"><br>
          <label>Input Log:</label><br>
          <textarea id="input-log" style="width:100%" rows="20" readonly></textarea><br>
          <button id="receive">Read Report (cancels polling)</button>
          <button id="clear">Clear Log</button>
        </div>
    </div>

    <script src="OnlyKeyWizard.js"></script>
    <script src="control-panel.js"></script>
</body>
</html>
